
            const network = document.getElementById('network').value;

            if (isNaN(amount) || amount <= 0) {
                alert("Please enter a valid amount.");
                return;
            }
            if (amount < 100) {
                alert("Minimum withdrawal is $100.");
                return;
            }
            if (amount > balance) {
                alert("Insufficient balance.");
                return;
            }

            // Network Validation
            if (network === "TRC20" && !address.startsWith("T")) {
                alert("Invalid TRC20 Address. Must start with 'T'.");
                return;
            }
            if (network === "POLYGON" && !address.startsWith("0x")) {
                alert("Invalid Polygon Address. Must start with '0x'.");
                return;
            }

            // Success
            balance -= amount;
            updateUI();
            alert(`Success!\n$${amount} USDT withdrawn to ${network}.\nTx ID: Simulated-12345`);
            hideWithdrawal();
        }

        function loadState() {
            const savedBal = localStorage.getItem('minerBalance');
            if (savedBal) balance = parseFloat(savedBal);
            updateUI();
        }
    </script>
</body>
</html>
